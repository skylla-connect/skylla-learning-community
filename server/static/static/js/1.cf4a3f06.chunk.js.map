{"version":3,"sources":["App/screens/chat/component/Send.js","App/screens/signup/index.js","App/screens/components/footer.js","App/screens/components/button.js","App/screens/components/textField.js","App/screens/components/sidebar.js","App/styles/colors.js","App/screens/chat/client.js","App/screens/chat/component/utils.js","App/screens/chat/component/Actions.js","App/screens/chat/component/Avatar.js","App/screens/chat/component/TextExtraction.js","App/screens/chat/component/ParsedText.js","App/screens/chat/component/MessageText.js","App/screens/chat/component/MessageImage.js","App/screens/chat/component/MessageVideo.js","App/screens/chat/component/Constant.js","App/screens/chat/component/Time.js","App/screens/chat/component/Bubble.js","App/screens/chat/component/SystemMessage.js","App/screens/chat/component/Composer.js","App/screens/chat/component/Day.js","App/screens/chat/component/InputToolbar.js","App/screens/chat/component/Message.js","App/screens/chat/component/WebScrollView.js","App/screens/chat/component/MessageContainer.js","App/screens/chat/component/Chat.js","App/screens/chat/component/Color.js","App/config/routes.js"],"names":["Send","text","containerStyle","onSend","children","textStyle","label","alwaysShowSend","trim","length","style","height","justifyContent","onClick","console","log","color","Color","defaultBlue","fontWeight","fontSize","backgroundColor","backgroundTransparent","marginBottom","marginLeft","marginRight","defaultProps","SignUpPage","css","display","flexDirection","width","position","Height","textTransform","paddingBottom","SignUpForm","padding","paddingLeft","to","ROUTES","INITIAL_STATE","username","email","passwordOne","passwordTwo","isPending","isChecked","error","SignUpFormBase","props","onSubmit","event","setState","state","usersid","newUser","name","password","firebase","doCreateUserWithEmailAndPassword","then","authUser","user","uid","getIdToken","token","userCredentials","createdAt","Date","toISOString","userId","doCreateNewUser","history","push","catch","preventDefault","onChange","target","value","this","isInvalid","alignItems","variant","type","id","placeholder","paddingTop","marginTop","checked","htmlFor","disabled","message","Component","SignUpLink","compose","withRouter","withFirebase","Footer","bottom","background","getFullYear","withStyles","button","classes","className","iconButton","outlined","useState","showPassword","setShowPassword","inputProps","textAlign","size","textField","InputProps","endAdornment","arial-label","SideBanner","fontFamily","Typography","letterSpacing","paragraph","lineHeight","messages","setMessages","friend","useEffect","doGetMessages","generateChatId","snapshot","items","forEach","child","avatar","md5","_id","admin","uuid","system","onMessageListener","payload","noteTitle","data","title","noteOptions","body","roomId","Notification","onclick","close","err","JSON","stringify","now","getTime","doPushMessage","order","isSameDay","currentMessage","diffMessage","currentCreatedAt","moment","diffCreatedAt","isValid","isSame","isSameUser","Actions","onActionsPress","bind","options","optionKeys","Object","keys","cancelButtonIndex","indexOf","context","actionSheet","showActionSheetWithOptions","tintColor","optionTintColor","buttonIndex","key","icon","styles","wrapper","wrapperStyle","iconText","iconTextStyle","Button","container","onPressActionButton","renderIcon","React","borderRadius","borderColor","defaultColor","borderWidth","flex","contextTypes","PropTypes","func","carrot","emerald","peterRiver","wisteria","alizarin","turquoise","midnightBlue","avatarStyle","avatarTransparent","white","Avatar","userName","toUpperCase","split","avatarName","charAt","sumChars","i","charCodeAt","colors","avatarColor","src","uri","other","renderAvatar","setAvatarColor","onPress","accessibilityTraits","renderInitials","TextExtraction","patterns","parsedTexts","pattern","newParts","parsedText","_matched","parts","textLeft","matches","exec","previousText","substr","index","getMatchedPart","filter","t","matchedPattern","renderText","PATTERNS","url","phone","ParsedText","parse","map","option","patternOption","Error","textExtraction","getPatterns","childrenProps","ref","_root","getParsedText","displayName","left","link","textDecorationLine","right","MessageText","nextProps","linkStyle","customTextStyle","parsePatterns","textProps","MessageImage","isOpen","messageIndex","onClickImage","imageMessages","imageProps","imageStyle","image","onCloseRequest","mainSrc","nextSrc","prevSrc","onMovePrevRequest","onMoveNextRequest","item","margin","resizeMode","imageActive","MessageVideo","videoProps","videoStyle","lightboxProps","timeTextColor","Time","timeFormat","timeTextStyle","locale","getLocale","format","leftBubbleBackground","minHeight","containerToNext","borderBottomLeftRadius","containerToPrevious","borderTopLeftRadius","borderBottomRightRadius","borderTopRightRadius","tick","tickView","top","usernameView","marginHorizontal","Bubble","nextMessage","containerToNextStyle","previousMessage","containerToPreviousStyle","messageTextProps","renderMessageText","messageImageProps","renderMessageImage","video","messageVideoProps","renderMessageVideo","renderTicks","sent","received","pending","tickStyle","timeProps","renderTime","renderUsernameOnMessage","usernameStyle","renderCustomView","handleBubbleToNext","handleBubbleToPrevious","onLongPress","touchableProps","bottomContainerStyle","renderUsername","SystemMessage","Composer","e","contentSize","nativeEvent","onInputSizeChanged","onTextChanged","keyCode","shiftKey","TextField","onKeyDown","multiline","onChangeText","outline","border","overflow","boxShadow","resize","textInputStyle","textInputProps","composerHeight","placeholderTextColor","textInputAutoFocus","keyboardAppearance","Day","dateFormat","inverted","borderTopColor","primary","accessory","InputToolbar","renderActions","renderSend","renderComposer","renderAccessory","accessoryStyle","primaryStyle","Message","getInnerComponentProps","next","current","send","dayProps","renderDay","bubbleProps","renderBubble","systemMessageProps","renderSystemMessage","showUserAvatar","avatarProps","sameUser","undefined","WebScrollView","renderItem","ListHeaderComponent","ListFooterComponent","slice","reverse","extraData","contentContainerStyle","headerWrapper","listStyle","scrollToBottomStyle","opacity","paddingHorizontal","paddingVertical","zIndex","shadowColor","black","shadowOpacity","shadowOffset","shadowRadius","MessageContainer","showScrollBottom","renderFooter","footerProps","renderLoadEarlier","loadEarlier","loadEarlierProps","scrollToBottom","scrollTo","offset","animated","renderRow","warn","restProps","messageProps","renderMessage","renderHeaderWrapper","keyExtractor","scrollToBottomComponent","hitSlop","renderScrollToBottomWrapper","flatListRef","enableEmptySections","automaticallyAdjustContentInsets","PureComponent","onLoadEarlier","listViewProps","invertibleScrollViewProps","scrollToBottomOffset","ChatUI","_isMounted","_keyboardHeight","_bottomOffset","_maxHeight","_isFirstLayout","_locale","_messages","isInitialized","typingDisabled","onInputTextChanged","onMainViewLayout","onInitialLayoutViewLayout","setIsMounted","initLocale","setTextFromProp","prevProps","locales","setLocale","textProp","fallback","_messageContainerRef","y","getMessages","component","renderChatFooter","shouldResetInputToolbar","Array","isArray","messageIdGenerator","setIsTypingDisabled","resetInputToolbar","setTimeout","getIsMounted","notifyInputTextReset","getTextFromProp","textInput","focus","getIsTypingDisabled","layout","inputToolbarProps","maxLength","maxInputLength","renderInputToolbar","renderLoading","onLayout","renderMessages","currentMessages","concat","childContextTypes","v4","isAnimated","isLoadingEarlier","onPressAvatar","renderAvatarOnTop","bottomOffset","minInputToolbarHeight","keyboardShouldPersistTaps","forceGetKeyboardHeight","minComposerHeight","maxComposerHeight","SIGN_UP","SIGN_IN","ADMIN","TRAINER","TRAINEE","PASSWORD_RESET","LIVE_SUPPORT","LIVE_SUPPORT2"],"mappings":"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","file":"static/js/1.cf4a3f06.chunk.js","sourcesContent":["/* eslint no-use-before-define: [\"error\", { \"variables\": false }] */\r\n\r\nimport { Button, Typography } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport Color from './Color';\r\n\r\n\r\nexport default function Send({ text, containerStyle, onSend, children, textStyle, label, alwaysShowSend }) {\r\n  if (alwaysShowSend || text.trim().length > 0) {\r\n    return (\r\n      <Button\r\n        style={{ \r\n          height: 44,\r\n          justifyContent: 'flex-end', ...containerStyle }}\r\n        onClick={() => {\r\n          console.log('asdasdasd')\r\n          onSend({ text: text.trim() }, true);\r\n        }}\r\n      >\r\n        <div>{children || <Typography style={{\r\n          color: Color.defaultBlue,\r\n          fontWeight: '600',\r\n          fontSize: 17,\r\n          backgroundColor: Color.backgroundTransparent,\r\n          marginBottom: 12,\r\n          marginLeft: 10,\r\n          marginRight: 10,\r\n        ...textStyle }}>{label}</Typography>}</div>\r\n      </Button>\r\n    );\r\n  }\r\n  return <div />;\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    height: 44,\r\n    justifyContent: 'flex-end',\r\n  },\r\n  text: {\r\n    color: Color.defaultBlue,\r\n    fontWeight: '600',\r\n    fontSize: 17,\r\n    backgroundColor: Color.backgroundTransparent,\r\n    marginBottom: 12,\r\n    marginLeft: 10,\r\n    marginRight: 10,\r\n  },\r\n}\r\n\r\nSend.defaultProps = {\r\n  text: '',\r\n  onSend: () => {},\r\n  label: 'Send',\r\n  containerStyle: {},\r\n  textStyle: {},\r\n  children: null,\r\n  alwaysShowSend: false,\r\n};\r\n\r\n// Send.propTypes = {\r\n//   text: PropTypes.string,\r\n//   onSend: PropTypes.func,\r\n//   label: PropTypes.string,\r\n//   // containerStyle: ViewPropTypes.style,\r\n//   textStyle: Typography.propTypes.style,\r\n//   children: PropTypes.element,\r\n//   alwaysShowSend: PropTypes.bool,\r\n// };\r\n","/** @jsx jsx */\r\nimport {jsx} from '@emotion/core'\r\n\r\nimport { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\nimport { withFirebase } from \"../../firebase\";\r\n\r\nimport * as ROUTES from '../../config/routes';\r\nimport SideBanner from '../components/sidebar';\r\nimport { Centered, FormGroup } from '../../components';\r\nimport './index.css';\r\nimport { Footer } from '../components/footer';\r\nimport ButtonMui from \"../components/button\";\r\nimport TextFieldMui from \"../components/textField\";\r\n\r\n\r\nconst SignUpPage = () => (\r\n    <div css={{\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n    }}>\r\n        <SideBanner/>\r\n        <div css={{\r\n            width: '70%',\r\n            position: 'relative',\r\n            Height: '100vh',\r\n           }}>\r\n            <Centered>\r\n                <div css={{marginBottom: '60px'}}>\r\n                    <h5\r\n                    css={{\r\n                        fontSize: '16px',\r\n                        textTransform: 'capitalize',\r\n                        color: '#000000',\r\n                        paddingBottom: '30px',\r\n                    }}>create account</h5>\r\n                    <SignUpForm />\r\n\r\n                    <p css={{\r\n                        fontSize: '16px',\r\n                        padding: '20px 0 20px 0',\r\n                        }}>\r\n                        Already have an account? <span css={{paddingLeft: '18px'}}>\r\n                        <Link to={ROUTES.SIGN_IN}>Sign In</Link></span>\r\n                    </p>\r\n                    <Footer/>\r\n                </div>\r\n            </Centered>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n    username: '',\r\n    email: '',\r\n    passwordOne: '',\r\n    passwordTwo: '',\r\n    isPending: false,\r\n    isChecked: false,\r\n    error: null,\r\n};\r\n\r\nclass SignUpFormBase extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { ...INITIAL_STATE };\r\n    }\r\n    \r\n    onSubmit = event => {\r\n        this.setState({...this.state, isPending: true})\r\n        const { username, email, passwordOne } = this.state;\r\n        const newUser = {\r\n            name: username,\r\n            email: email,\r\n            password: passwordOne,\r\n        };\r\n        let usersid;\r\n        this.props.firebase\r\n        .doCreateUserWithEmailAndPassword(email, passwordOne)\r\n        .then( (authUser) => {\r\n            usersid = authUser.user.uid;\r\n            return authUser.user.getIdToken();\r\n        }).then(token => {\r\n            const userCredentials = {\r\n                name: newUser.name,\r\n                email: newUser.email,\r\n                password: newUser.password,\r\n                createdAt: new Date().toISOString(),\r\n                userId: usersid,\r\n            };\r\n            this.props.firebase.doCreateNewUser(userCredentials);\r\n            this.setState({ ...INITIAL_STATE });\r\n            this.props.history.push(ROUTES.ADMIN);\r\n        })\r\n        .catch(error => {\r\n            this.setState({ error, isPending: false});\r\n            });\r\n            event.preventDefault();\r\n        };\r\n    onChange = event => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n    };\r\n    render() {\r\n        const {\r\n            username,\r\n            email,\r\n            passwordOne,\r\n            passwordTwo,\r\n            isPending,\r\n            error,\r\n            isChecked,\r\n            } = this.state;    \r\n            const isInvalid =\r\n            passwordOne !== passwordTwo ||\r\n            passwordOne === '' ||\r\n            email === '' ||\r\n            username === '' ||\r\n            isChecked === false ||\r\n            isPending;\r\n\r\n    return (\r\n        <form onSubmit={this.onSubmit} \r\n        css={{\r\n            width: '350px',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'stretch',\r\n        }}>\r\n             <FormGroup>\r\n            <TextFieldMui\r\n                label=\"Full Name\"\r\n                variant=\"outlined\"\r\n                type=\"text\"\r\n                id=\"username\"\r\n                name=\"username\"\r\n                value={username}\r\n                placeholder=\"Name\"\r\n                onChange={this.onChange}\r\n                />\r\n            </FormGroup>\r\n             <FormGroup css={{\r\n                 paddingTop: \"18px\"\r\n             }}>\r\n            <TextFieldMui \r\n                label=\"E-mail Address\"\r\n                variant=\"outlined\"\r\n                type=\"email\"\r\n                id=\"email\"\r\n                name=\"email\"\r\n                value={email}\r\n                onChange={this.onChange}\r\n                />\r\n            </FormGroup>\r\n             <FormGroup css={{\r\n                paddingTop: '18px',\r\n            }}>\r\n                <TextFieldMui \r\n                label=\"Password\"\r\n                id=\"passwordOne\"\r\n                name=\"passwordOne\"\r\n                value={passwordOne}\r\n                variant=\"outlined\"\r\n                type=\"password\"\r\n                onChange={this.onChange}\r\n                />\r\n            </FormGroup>\r\n             <FormGroup css={{\r\n                paddingTop: '18px',\r\n            }}>\r\n                <TextFieldMui \r\n                label=\"Confirm Password\"\r\n                id=\"passwordTwo\"\r\n                name=\"passwordTwo\"\r\n                value={passwordTwo}\r\n                variant=\"outlined\"\r\n                type=\"password\"\r\n                onChange={this.onChange}\r\n                />\r\n            </FormGroup>\r\n            <FormGroup css={{display: 'flex', \r\n            flexDirection: 'row',\r\n            justifyContent: 'flex-start',\r\n            alignItems: 'center',\r\n            marginTop: '8px',\r\n        }}>\r\n                <input css={{\r\n                   marginLeft: '0'\r\n                }} id=\"terms\" type='checkbox'\r\n                checked={isChecked}\r\n                onChange={() => this.setState({isChecked: !isChecked})}/>\r\n                <label htmlFor=\"terms\"\r\n                css={{\r\n                    marginTop: '8px',\r\n                    padding: '10px',\r\n                    fontSize: '14px'\r\n                }}>I agree to <Link to=\"#\" css={{\r\n                    // backgroundColor: \"#007bff\",\r\n                    color: \"#007bff\" }}>Terms</Link> of service and to Skylla <Link to=\"#\"\r\n                    css={{\r\n                        // backgroundColor: \"#007bff\",\r\n                        color: \"#007bff\"  \r\n                    }}>Polices</Link> </label>\r\n            </FormGroup>\r\n            <FormGroup css={{\r\n                paddingTop: '15px',\r\n            }}>\r\n                <ButtonMui\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                type=\"submit\"\r\n                disabled={isInvalid}\r\n                isPending={isPending}\r\n                text=\"create account\"\r\n                />\r\n            </FormGroup>\r\n            {error && <p css={{\r\n                paddingTop: '15px',\r\n                fontSize: '14px',\r\n                color: 'red',\r\n            }}>{error.message}</p>}\r\n        </form>\r\n    );\r\n    }\r\n}\r\n\r\nconst SignUpLink = () => (\r\n<p css={{\r\n    fontSize: '16px',\r\n    paddingBottom: '30px',\r\n    }}>\r\n    Don't have an account? <span css={{paddingLeft: '18px'}}>\r\n    <Link to={ROUTES.SIGN_UP}>Sign Up</Link></span>\r\n</p>\r\n);\r\n\r\nconst SignUpForm = compose(\r\n    withRouter,\r\n    withFirebase,\r\n    )(SignUpFormBase);\r\n    \r\n\r\nexport { SignUpPage, SignUpLink };\r\n","/** @jsx jsx */\r\nimport {jsx} from '@emotion/core'\r\n\r\n// import React from \"react\";\r\n\r\nexport const Footer = () => {\r\n    return ( \r\n        <footer css={{\r\n            position: 'absolute',\r\n            bottom: '0px',\r\n            width: 'inherit',\r\n            height: '60px',\r\n            // lineHeight: '20px',\r\n            padding: '10px',\r\n            background: 'transparent',\r\n            color: '#6C757D',\r\n        }}>\r\n            <div>\r\n                <p css={{fontSize: '14px'}}>&copy; {new Date().getFullYear()} | Skylla Co</p>\r\n            </div>     \r\n        </footer>\r\n     );\r\n}","import React from \"react\";\r\nimport Button  from \"@material-ui/core/Button\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport { Spinner } from \"../../components\";\r\n\r\nconst styles = {\r\n    button: {\r\n        backgroundColor: '#0000ff',\r\n    }\r\n}\r\nconst ButtonMui = (props) => {\r\n    const {classes} = props;\r\n    return ( \r\n        <Button\r\n        variant={props.variant} \r\n        color={props.color}\r\n        type={props.type}\r\n        className={classes.button}\r\n        disabled={props.disabled}\r\n    >{props.text} {props.isPending && (<Spinner css={{marginLeft: 5}} /> )}</Button>\r\n     );\r\n}\r\n \r\nexport default withStyles(styles)(ButtonMui);","/** @jsx jsx */\r\nimport {jsx} from '@emotion/core'\r\n\r\nimport { useState } from \"react\";\r\nimport TextField  from \"@material-ui/core/TextField\";\r\nimport InputAdornment  from \"@material-ui/core/InputAdornment\";\r\nimport IconButton  from \"@material-ui/core/IconButton\";\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nconst styles = {\r\n   iconButton: {\r\n       outlined: 'none'\r\n   }\r\n};\r\nconst TextFieldMui = ({...props}) => {\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    if (props.type === \"password\") {\r\n        const handleClickShowPassword = () => setShowPassword(!showPassword);\r\n        const {classes} = props;\r\n        return ( \r\n            <TextField \r\n            label = {props.label}\r\n            variant = {props.variant}\r\n            id={props.id}\r\n            name={props.name}\r\n            value={props.value}\r\n            type = {showPassword? 'text': 'password'}\r\n            onChange = {props.onChange}\r\n            placeholder={props.placeholder}\r\n            inputProps ={{ style: {textAlign: 'center', fontSize: '13.5px'}}}\r\n            size=\"small\"\r\n            className={classes.textField}\r\n            InputProps= {{\r\n                endAdornment: (\r\n                    <InputAdornment>\r\n                        <IconButton\r\n                        arial-label =\"toggle password visibility\"\r\n                        size=\"small\"\r\n                        className={classes.iconButton}\r\n                        onClick={handleClickShowPassword}>\r\n                            {showPassword? <Visibility/> : <VisibilityOff/>}\r\n                        </IconButton>\r\n                    </InputAdornment>\r\n                )\r\n            }}\r\n            />\r\n         );\r\n    } else {\r\n        return (\r\n            <TextField \r\n            css={{ textAlign: 'center'}}\r\n            label = {props.label}\r\n            variant = {props.variant}\r\n            id={props.id}\r\n            name={props.name}\r\n            value={props.value}\r\n            type = {props.type}\r\n            placeholder={props.placeholder}\r\n            size=\"small\"\r\n            inputProps ={{ style: {textAlign: 'center', fontSize: '13.5px'}}}\r\n            onChange = {props.onChange} />\r\n        );\r\n    }\r\n    \r\n}\r\n \r\nexport default withStyles(styles)(TextFieldMui);","/** @jsx jsx */\r\nimport {jsx} from '@emotion/core'\r\nimport { Typography } from '@material-ui/core';\r\n\r\n// import React from \"react\";\r\nimport { Centered } from '../../components';\r\nimport * as colors from \"../../styles/colors\";\r\n\r\nconst SideBanner = () => {\r\n    return ( \r\n    <div css={{\r\n        fontFamily: 'RobotoCondensed',\r\n        width: '30%',\r\n        height: '100vh',\r\n        color: colors.base,\r\n        backgroundColor: colors.blue}}>\r\n        <Centered>\r\n            <Typography variant=\"h5\" style={{\r\n                fontFamily: 'Times New Roman', \r\n                fontWeight: 'bold',\r\n                letterSpacing: '0.1rem',\r\n                }}>\r\n                JOIN\r\n            </Typography>\r\n            <Typography variant=\"h6\" paragraph style={{\r\n                fontFamily: 'Raleway',\r\n                textAlign: 'center',\r\n                // fontSize: '24px',\r\n                padding: '65px 70px',\r\n                letterSpacing: '0.01rem',\r\n                lineHeight: '2rem',\r\n        }}>the Million people\r\n            Learning to Code\r\n            with Skylla Connect</Typography>\r\n        </Centered>\r\n    </div>\r\n     );\r\n}\r\n \r\nexport default SideBanner;","export const base = 'white'\r\nexport const text = '#434449'\r\nexport const gray = '#f1f2f7'\r\nexport const blue = '#0000ff'\r\n","import React, { useState, useCallback, useEffect } from 'react'\r\nimport { withFirebase } from '../../firebase';\r\nimport { Actions, ChatUI, Composer, InputToolbar } from './component/Chat';\r\nimport Send from './component/Send';\r\nimport md5 from 'md5'\r\nimport uuid from \"uuid\";\r\n\r\nconst Client = (props) => {\r\n  const [messages, setMessages] = useState([]);\r\n  const user = props.user;\r\n  const admin = props.friend\r\n\r\n  \r\n  useEffect(() => {\r\n    props.firebase.doGetMessages(generateChatId(), 0)\r\n    .then(snapshot => {\r\n       // get children as an array\r\n       var items = [];\r\n       snapshot.forEach((child) => {\r\n           var avatar = 'https://www.gravatar.com/avatar/' + (md5(user.email));\r\n           items.push({\r\n               _id: child.createdAt,\r\n               text: child.text,\r\n               createdAt: new Date(child.createdAt),\r\n               user: {\r\n                   _id: child.uid,\r\n                   avatar: avatar\r\n               }\r\n           });\r\n       })\r\n       if (props.admin.length === 0 ) {\r\n        items.push({\r\n          _id: uuid(),\r\n          text: \"Thank you for reaching us.\" +\r\n          \" Please leave your message here and we will get back to you shortly.\",\r\n          createdAt: new Date(),\r\n          system: true\r\n      });\r\n      }\r\n       setMessages(items)\r\n      //  scrollToBottom();\r\n      // return () => listener = null;\r\n    });\r\n  })\r\n\r\n  const generateChatId = () =>  {\r\n      return user.userId;\r\n  }\r\n\r\n  const onSend = (messages = []) => {\r\n    messages.forEach(message => {\r\n        var now = new Date().getTime()\r\n        props.firebase.doPushMessage({\r\n            _id: now,\r\n            text: message.text,\r\n            createdAt: now,\r\n            uid: user.userId,\r\n            roomId: user.userId,\r\n            order: -1 * now\r\n        })\r\n    }) \r\n}\r\n// props.firebase.onBackgroundMessageHandler()\r\n// .then(payload => {\r\n//   console.log('[firebase-messaging-sw.js] Received background message ', payload);\r\n//   (function(payload){\r\n//     const notificationTitle = payload.data.title;\r\n//     const notificationOptions = {\r\n//       body: payload.data.roomId,\r\n//       icon: '/firebase-logo.png'\r\n//     };\r\n//      return Window.registration.showNotification(notificationTitle,\r\n//       notificationOptions);\r\n//   })();\r\n//   Window.addEventListener('notificationclick', event => {\r\n//     console.log(event)\r\n//     console.log(payload)\r\n//     props.history.push(`/livechat/${payload.notificationOptions.roomId}`)\r\n//     return event;\r\n//   })\r\n//   .then(payload => {  \r\n//     console.log(payload)\r\n//     });\r\n//   }) \r\nprops.firebase.onMessageListener()\r\n.then((payload) => {\r\n    console.log('Message received. ', payload);\r\n\r\n    const noteTitle = payload.data.title;\r\n    const noteOptions = {\r\n      body: payload.data.roomId,\r\n      // icon: \"typewriter.jpg\", //this is my image in my public folder\r\n    };\r\n\r\n    console.log(\"title \", noteTitle, \" \", payload.data.roomId);\r\n    //var notification = //examples include this, seems not needed\r\n\r\n    new Notification(noteTitle, noteOptions).onclick = function (event) {\r\n      console.log(event);\r\n      // console.log(payload.notification.click_action);\r\n      // if(payload && payload.notification &&  payload.notification.click_action &&  payload.notification.click_action.length > 0)\r\n      // {\r\n      //   window.open(payload.notification.click_action, '_blank');\r\n      // }\r\n      this.close();\r\n    }\r\n})\r\n.catch((err) => {\r\n  console.log(JSON.stringify(err));\r\n});\r\n  return (\r\n    <ChatUI\r\n        user={{\r\n          id: user.userId,\r\n          email: user.email,\r\n          name: user.name,\r\n          avatar: 'https://www.gravatar.com/avatar/' + (md5(user.email)),\r\n        }}\r\n        messages={messages}\r\n        onSend={messages => onSend(messages)}\r\n      />\r\n  )\r\n}\r\nexport default withFirebase(Client);","import moment from 'moment';\r\n\r\nexport function isSameDay(currentMessage = {}, diffMessage = {}) {\r\n  if (!diffMessage.createdAt) {\r\n    return false;\r\n  }\r\n\r\n  const currentCreatedAt = moment(currentMessage.createdAt);\r\n  const diffCreatedAt = moment(diffMessage.createdAt);\r\n\r\n  if (!currentCreatedAt.isValid() || !diffCreatedAt.isValid()) {\r\n    return false;\r\n  }\r\n\r\n  return currentCreatedAt.isSame(diffCreatedAt, 'day');\r\n}\r\n\r\nexport function isSameUser(currentMessage = {}, diffMessage = {}) {\r\n  return !!(diffMessage.user && currentMessage.user && diffMessage.user.id === currentMessage.user.id);\r\n}\r\n","/* eslint no-use-before-define: [\"error\", { \"variables\": false }] */\r\n\r\nimport { Typography, Button } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nimport Color from './Color';\r\n\r\nexport default class Actions extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.onActionsPress = this.onActionsPress.bind(this);\r\n  }\r\n\r\n  onActionsPress() {\r\n    const { options } = this.props;\r\n    const optionKeys = Object.keys(options);\r\n    const cancelButtonIndex = optionKeys.indexOf('Cancel');\r\n    this.context.actionSheet().showActionSheetWithOptions(\r\n      {\r\n        options: optionKeys,\r\n        cancelButtonIndex,\r\n        tintColor: this.props.optionTintColor,\r\n      },\r\n      (buttonIndex) => {\r\n        const key = optionKeys[buttonIndex];\r\n        if (key) {\r\n          options[key](this.props);\r\n        }\r\n      },\r\n    );\r\n  }\r\n\r\n  renderIcon() {\r\n    if (this.props.icon) {\r\n      return this.props.icon();\r\n    }\r\n    return (\r\n      <div style={{...styles.wrapper, ...this.props.wrapperStyle}}>\r\n        <Typography style={{...styles.iconText, ...this.props.iconTextStyle}}>+</Typography>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Button\r\n        style={{...styles.container, ...this.props.containerStyle}}\r\n        onClick={this.props.onPressActionButton || this.onActionsPress}\r\n      >\r\n        {this.renderIcon()}\r\n      </Button>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    width: 26,\r\n    height: 26,\r\n    marginLeft: 10,\r\n    marginBottom: 10,\r\n  },\r\n  wrapper: {\r\n    borderRadius: 13,\r\n    borderColor: Color.defaultColor,\r\n    borderWidth: 2,\r\n    flex: 1,\r\n  },\r\n  iconText: {\r\n    color: Color.defaultColor,\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n    backgroundColor: Color.backgroundTransparent,\r\n    textAlign: 'center',\r\n  },\r\n}\r\n\r\nActions.contextTypes = {\r\n  actionSheet: PropTypes.func,\r\n};\r\n\r\nActions.defaultProps = {\r\n  onSend: () => { },\r\n  options: {},\r\n  optionTintColor: Color.optionTintColor,\r\n  icon: null,\r\n  containerStyle: {},\r\n  iconTextStyle: {},\r\n  wrapperStyle: {},\r\n};\r\n\r\n// Actions.propTypes = {\r\n//   onSend: PropTypes.func,\r\n//   options: PropTypes.object,\r\n//   optionTintColor: PropTypes.string,\r\n//   icon: PropTypes.func,\r\n//   onPressActionButton: PropTypes.func,\r\n//   // wrapperStyle: ViewPropTypes.style,\r\n//   // containerStyle: ViewPropTypes.style,\r\n//   iconTextStyle: Typography.propTypes.style,\r\n// };\r\n","/* eslint no-use-before-define: [\"error\", { \"variables\": false }], padded-blocks: 0 */\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Color from './Color';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nconst { carrot, emerald, peterRiver, wisteria, alizarin, turquoise, midnightBlue } = Color;\r\nconst styles = {\r\n    avatarStyle: {\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      width: 40,\r\n      height: 40,\r\n      borderRadius: 20,\r\n    },\r\n    avatarTransparent: {\r\n      backgroundColor: Color.backgroundTransparent,\r\n    },\r\n    textStyle: {\r\n      color: Color.white,\r\n      fontSize: 16,\r\n      backgroundColor: Color.backgroundTransparent,\r\n      fontWeight: '100',\r\n    },\r\n  };\r\nexport default class Avatar extends React.Component {\r\n  setAvatarColor() {\r\n    const userName = this.props.user.name || '';\r\n    const name = userName.toUpperCase().split(' ');\r\n    if (name.length === 1) {\r\n      this.avatarName = `${name[0].charAt(0)}`;\r\n    } else if (name.length > 1) {\r\n      this.avatarName = `${name[0].charAt(0)}${name[1].charAt(0)}`;\r\n    } else {\r\n      this.avatarName = '';\r\n    }\r\n\r\n    let sumChars = 0;\r\n    for (let i = 0; i < userName.length; i += 1) {\r\n      sumChars += userName.charCodeAt(i);\r\n    }\r\n\r\n    // inspired by https://github.com/wbinnssmith/react-user-avatar\r\n    // colors from https://flatuicolors.com/\r\n    const colors = [carrot, emerald, peterRiver, wisteria, alizarin, turquoise, midnightBlue];\r\n\r\n    this.avatarColor = colors[sumChars % colors.length];\r\n  }\r\n\r\n  renderAvatar() {\r\n    if (typeof this.props.user.avatar === 'function') {\r\n      return this.props.user.avatar();\r\n    } if (typeof this.props.user.avatar === 'string') {\r\n      return <img src={{ uri: this.props.user.avatar }} style={{...styles.avatarStyle, ...this.props.avatarStyle}} />;\r\n    } if (typeof this.props.user.avatar === 'number') {\r\n      return <img src={this.props.user.avatar} style={{...styles.avatarStyle, ...this.props.avatarStyle}} />;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderInitials() {\r\n    return <Typography style={{...styles.textStyle, ...this.props.textStyle}}>{this.avatarName}</Typography>;\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.user.name && !this.props.user.avatar) {\r\n      // render placeholder\r\n      return (\r\n        <div\r\n          style={{...styles.avatarStyle, ...styles.avatarTransparent, ...this.props.avatarStyle}}\r\n        />\r\n      );\r\n    }\r\n    if (this.props.user.avatar) {\r\n      return (\r\n        <Button\r\n          disabled={!this.props.onClick}\r\n          onClick={() => {\r\n            const { onClick, ...other } = this.props;\r\n            if (this.props.onClick) {\r\n              this.props.onClick(other);\r\n            }\r\n          }}\r\n        >\r\n          {this.renderAvatar()}\r\n        </Button>\r\n      );\r\n    }\r\n\r\n    this.setAvatarColor();\r\n\r\n    return (\r\n      <Button\r\n        disabled={!this.props.onPress}\r\n        onClick={() => {\r\n          const { onPress, ...other } = this.props;\r\n          if (this.props.onPress) {\r\n            this.props.onPress(other);\r\n          }\r\n        }}\r\n        style={{ ...this.classes.avatarStyle, backgroundColor: this.avatarColor, ...this.props.avatarStyle }}\r\n        accessibilityTraits=\"image\"\r\n      >\r\n        {this.renderInitials()}\r\n      </Button>\r\n    );\r\n  }\r\n}\r\n\r\nAvatar.defaultProps = {\r\n  user: {\r\n    name: null,\r\n    avatar: null,\r\n  },\r\n  onPress: null,\r\n  avatarStyle: {},\r\n  textStyle: {},\r\n};\r\n\r\nAvatar.propTypes = {\r\n  user: PropTypes.object,\r\n  onPress: PropTypes.func,\r\n  // avatarStyle: Image.propTypes.style,\r\n  // textStyle: Text.propTypes.style,\r\n};\r\n","class TextExtraction {\r\n  /**\r\n   * @param {String} text - Text to be parsed\r\n   * @param {Object[]} patterns - Patterns to be used when parsed\r\n   *                              other options than pattern would be added to the parsed content\r\n   * @param {RegExp} patterns[].pattern - RegExp to be used for parsing\r\n   */\r\n  constructor(text, patterns) {\r\n    this.text     = text;\r\n    this.patterns = patterns || [];\r\n  }\r\n\r\n  /**\r\n   * Returns parts of the text with their own props\r\n   * @return {Object[]} - props for all the parts of the text\r\n   */\r\n  parse() {\r\n    let parsedTexts = [{children: this.text}];\r\n    this.patterns.forEach((pattern) => {\r\n      let newParts = [];\r\n\r\n      parsedTexts.forEach((parsedText) => {\r\n        // Only allow for now one parsing\r\n        if (parsedText._matched) {\r\n          newParts.push(parsedText);\r\n\r\n          return;\r\n        }\r\n\r\n        let parts    = [];\r\n        let textLeft = parsedText.children;\r\n\r\n        while (textLeft) {\r\n          let matches = pattern.pattern.exec(textLeft);\r\n\r\n          if (!matches) { break; }\r\n\r\n          let previousText = textLeft.substr(0, matches.index);\r\n\r\n          parts.push({children: previousText});\r\n\r\n          parts.push(this.getMatchedPart(pattern, matches[0], matches));\r\n\r\n          textLeft = textLeft.substr(matches.index + matches[0].length);\r\n        }\r\n\r\n        parts.push({children: textLeft});\r\n\r\n        newParts.push(...parts);\r\n      });\r\n\r\n      parsedTexts = newParts;\r\n    });\r\n\r\n    // Remove _matched key.\r\n    parsedTexts.forEach((parsedText) => delete(parsedText._matched));\r\n\r\n    return parsedTexts.filter(t => !!t.children);\r\n  }\r\n\r\n  // private\r\n\r\n  /**\r\n   * @param {Object} matchedPattern - pattern configuration of the pattern used to match the text\r\n   * @param {RegExp} matchedPattern.pattern - pattern used to match the text\r\n   * @param {String} text - Text matching the pattern\r\n   * @param {String[]} text - Result of the RegExp.exec\r\n   * @return {Object} props for the matched text\r\n   */\r\n  getMatchedPart(matchedPattern, text, matches) {\r\n    let props = {};\r\n\r\n    Object.keys(matchedPattern).forEach((key) => {\r\n      if (key === 'pattern' || key === 'renderText') { return; }\r\n\r\n      if (typeof matchedPattern[key] === 'function') {\r\n        props[key] = () => matchedPattern[key](text);\r\n      } else {\r\n        props[key] = matchedPattern[key];\r\n      }\r\n    });\r\n\r\n    let children = text;\r\n    if (matchedPattern.renderText && typeof matchedPattern.renderText === 'function') {\r\n      children = matchedPattern.renderText(text, matches);\r\n    }\r\n\r\n    return {\r\n      ...props,\r\n      children: children,\r\n      _matched: true,\r\n    };\r\n  }\r\n}\r\n\r\nexport default TextExtraction;\r\n","import React from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport TextExtraction from './TextExtraction';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nconst PATTERNS = {\r\n  url: /(https?:\\/\\/|www\\.)[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&\\/\\/=]*)/i,\r\n  phone: /[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}/,\r\n  email: /\\S+@\\S+\\.\\S+/,\r\n};\r\n\r\n// const defaultParseShape = PropTypes.shape({\r\n//   ...ReactNative.Text.propTypes,\r\n//   type: PropTypes.oneOf(Object.keys(PATTERNS)).isRequired,\r\n// });\r\n\r\n// const customParseShape = PropTypes.shape({\r\n//   ...ReactNative.Text.propTypes,\r\n//   pattern: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(RegExp)]).isRequired,\r\n// });\r\n\r\nclass ParsedText extends React.Component {\r\n  static displayName = 'ParsedText';\r\n\r\n  // static propTypes = {\r\n  //   ...ReactNative.Text.propTypes,\r\n  //   parse: PropTypes.arrayOf(\r\n  //     PropTypes.oneOfType([defaultParseShape, customParseShape]),\r\n  //   ),\r\n  //   childrenProps: PropTypes.shape(ReactNative.Text.propTypes),\r\n  // };\r\n\r\n  // static defaultProps = {\r\n  //   parse: null,\r\n  // };\r\n\r\n  // setNativeProps(nativeProps) {\r\n  //   this._root.setNativeProps(nativeProps);\r\n  // }\r\n\r\n  getPatterns() {\r\n    return this.props.parse.map((option) => {\r\n      const { type, ...patternOption } = option;\r\n      if (type) {\r\n        if (!PATTERNS[type]) {\r\n          throw new Error(`${option.type} is not a supported type`);\r\n        }\r\n        patternOption.pattern = PATTERNS[type];\r\n      }\r\n\r\n      return patternOption;\r\n    });\r\n  }\r\n\r\n  getParsedText() {\r\n    if (!this.props.parse) { return this.props.children; }\r\n    if (typeof this.props.children !== 'string') { return this.props.children; }\r\n\r\n    const textExtraction = new TextExtraction(this.props.children, this.getPatterns());\r\n    const childrenProps = this.props.childrenProps || {};\r\n    const props = { ...this.props };\r\n    delete props.childrenProps;\r\n    return textExtraction.parse().map((props, index) => (\r\n      <Typography\r\n        key={`parsedText-${index}`}\r\n        {...childrenProps}\r\n        {...props}\r\n      />\r\n    ));\r\n  }\r\n\r\n  render() {\r\n    const props = { ...this.props };\r\n    delete props.childrenProps;\r\n    return (\r\n      <Typography\r\n        ref={ref => this._root = ref}\r\n        {...props}\r\n      >\r\n        {this.getParsedText()}\r\n      </Typography>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ParsedText;\r\n","/* eslint no-use-before-define: [\"error\", { \"variables\": false }] */\r\nimport { Typography } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nimport ParsedText from './ParsedText';\r\n\r\nconst WWW_URL_PATTERN = /^www\\./i;\r\n\r\nconst textStyle = {\r\n  fontSize: 16,\r\n  lineHeight: 20,\r\n  marginTop: 5,\r\n  marginBottom: 5,\r\n  marginLeft: 10,\r\n  marginRight: 10,\r\n};\r\n\r\nconst styles = {\r\n  left: {\r\n    container: {},\r\n    text: {\r\n      color: 'black',\r\n      ...textStyle,\r\n    },\r\n    link: {\r\n      color: 'black',\r\n      textDecorationLine: 'underline',\r\n    },\r\n  },\r\n  right: {\r\n    container: {},\r\n    text: {\r\n      color: 'white',\r\n      ...textStyle,\r\n    },\r\n    link: {\r\n      color: 'white',\r\n      textDecorationLine: 'underline',\r\n    },\r\n  }\r\n};\r\nexport default class MessageText extends React.Component {\r\n\r\n  shouldComponentUpdate(nextProps) {\r\n    return this.props.currentMessage.text !== nextProps.currentMessage.text;\r\n  }\r\n  render() {\r\n    const linkStyle = {...styles[this.props.position].link, ...this.props.linkStyle[this.props.position]};\r\n    return (\r\n      <div style={{...styles[this.props.position].container, ...this.props.containerStyle[this.props.position]}}>\r\n        <ParsedText\r\n          style={{\r\n            ...styles[this.props.position].text,\r\n            ...this.props.textStyle[this.props.position],\r\n            ...this.props.customTextStyle,\r\n          }}\r\n          parse={[\r\n            ...this.props.parsePatterns(linkStyle),\r\n          ]}\r\n          childrenProps={{ ...this.props.textProps }}\r\n        >\r\n          {this.props.currentMessage.text}\r\n        </ParsedText>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nMessageText.contextTypes = {\r\n  actionSheet: PropTypes.func,\r\n};\r\n\r\nMessageText.defaultProps = {\r\n  position: 'left',\r\n  currentMessage: {\r\n    text: '',\r\n  },\r\n  containerStyle: {},\r\n  textStyle: {},\r\n  linkStyle: {},\r\n  customTextStyle: {},\r\n  textProps: {},\r\n  parsePatterns: () => [],\r\n};\r\n\r\nMessageText.propTypes = {\r\n  position: PropTypes.oneOf(['left', 'right']),\r\n  currentMessage: PropTypes.object,\r\n  // containerStyle: PropTypes.shape({\r\n  //   left: ViewPropTypes.style,\r\n  //   right: ViewPropTypes.style,\r\n  // }),\r\n  textStyle: PropTypes.shape({\r\n    left: Typography.propTypes.style,\r\n    right: Typography.propTypes.style,\r\n  }),\r\n  linkStyle: PropTypes.shape({\r\n    left: Typography.propTypes.style,\r\n    right: Typography.propTypes.style,\r\n  }),\r\n  parsePatterns: PropTypes.func,\r\n  textProps: PropTypes.object,\r\n  customTextStyle: Typography.propTypes.style,\r\n};\r\n","/* eslint no-use-before-define: [\"error\", { \"variables\": false }] */\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport Lightbox from 'react-image-lightbox';\r\nimport 'react-image-lightbox/style.css';\r\nimport { Button } from '@material-ui/core';\r\n\r\n\r\nexport default class MessageImage extends React.Component {\r\n  state = {\r\n    isOpen: false,\r\n    messageIndex: 0,\r\n  };\r\n\r\n  onClickImage = () => {\r\n    this.setState({ isOpen: true });\r\n  }\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    if (state.isOpen) {\r\n      return {};\r\n    }\r\n    const { imageMessages, currentMessage } = props;\r\n    const messagesIds = imageMessages.map(item => item.id);\r\n    const messageIndex = messagesIds.indexOf(currentMessage.id);\r\n    return { messageIndex };\r\n  }\r\n\r\n  render() {\r\n    const { imageMessages, currentMessage, imageProps, containerStyle, imageStyle } = this.props;\r\n    const { isOpen, messageIndex } = this.state;\r\n    if (isOpen) { console.log('messageIndex', messageIndex); }\r\n    return (\r\n      <Button\r\n        onPress={this.onClickImage}\r\n        style={{ ...styles.container, ...containerStyle }}\r\n      >\r\n        <img\r\n          {...imageProps}\r\n          style={[styles.image, this.props.imageStyle]}\r\n          src={{ uri: currentMessage.image }}\r\n        />\r\n        {isOpen && (\r\n          <Lightbox\r\n            onCloseRequest={() => this.setState({ isOpen: false })}\r\n            mainSrc={imageMessages[messageIndex].image}\r\n            nextSrc={imageMessages[(messageIndex + 1) % imageMessages.length].image}\r\n            prevSrc={imageMessages[(messageIndex + imageMessages.length - 1) % imageMessages.length].image}\r\n            onMovePrevRequest={() => this.setState({\r\n              messageIndex: (messageIndex + imageMessages.length - 1) % imageMessages.length,\r\n            })\r\n            }\r\n            onMoveNextRequest={() => this.setState({\r\n              messageIndex: (messageIndex + 1) % imageMessages.length,\r\n            })\r\n            }\r\n\r\n          />\r\n        )}\r\n      </Button>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = {\r\n  container: {},\r\n  image: {\r\n    width: 150,\r\n    height: 100,\r\n    borderRadius: 13,\r\n    margin: 3,\r\n    resizeMode: 'cover',\r\n  },\r\n  imageActive: {\r\n    flex: 1,\r\n    resizeMode: 'contain',\r\n  },\r\n};\r\n\r\nMessageImage.defaultProps = {\r\n  currentMessage: {\r\n    image: null,\r\n  },\r\n  containerStyle: {},\r\n  imageStyle: {},\r\n  imageProps: {},\r\n  lightboxProps: {},\r\n};\r\n\r\nMessageImage.propTypes = {\r\n  currentMessage: PropTypes.object,\r\n  // containerStyle: ViewPropTypes.style,\r\n  // imageStyle: Image.propTypes.style,\r\n  imageProps: PropTypes.object,\r\n  lightboxProps: PropTypes.object,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\n// import Video from 'react-native-video';\r\n\r\n\r\nexport default function MessageVideo({\r\n  containerStyle,\r\n  videoProps,\r\n  videoStyle,\r\n  currentMessage,\r\n}) {\r\n  return (\r\n    // eslint-disable-next-line no-use-before-define\r\n    <div style={[styles.container, containerStyle]}>\r\n{/* \r\n      <Video\r\n        {...videoProps}\r\n        ref={(r) => { this.player = r; }}\r\n        source={{ uri: currentMessage.video }}\r\n        style={videoStyle}\r\n        resizeMode=\"cover\"\r\n        onBuffer={this.onBuffer}\r\n        onLoadStart={this.onLoadStart}\r\n        onLoad={this.onLoad}\r\n      /> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n  },\r\n}\r\n\r\nMessageVideo.defaultProps = {\r\n  currentMessage: {\r\n    // video: null,\r\n  },\r\n  containerStyle: {},\r\n  videoStyle: {\r\n    width: 150,\r\n    height: 100,\r\n    borderRadius: 13,\r\n    margin: 3,\r\n  },\r\n  videoProps: {},\r\n};\r\n\r\nMessageVideo.propTypes = {\r\n  currentMessage: PropTypes.object,\r\n  // containerStyle: ViewPropTypes.style,\r\n  // videoStyle: ViewPropTypes.style,\r\n  videoProps: PropTypes.object,\r\n};\r\n","export const MIN_COMPOSER_HEIGHT = 41;\r\nexport const MAX_COMPOSER_HEIGHT = 41;\r\nexport const DEFAULT_PLACEHOLDER = 'Type a message...';\r\nexport const DATE_FORMAT = 'll';\r\nexport const TIME_FORMAT = 'LT';\r\n","/* eslint no-use-before-define: [\"error\", { \"variables\": false }] */\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { StyleSheet, Text, View, ViewPropTypes } from 'react-native';\r\n\r\nimport moment from 'moment';\r\n\r\nimport Color from './Color';\r\nimport { TIME_FORMAT } from './Constant';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nconst containerStyle = {\r\n  marginLeft: 10,\r\n  marginRight: 10,\r\n  marginBottom: 5,\r\n};\r\n\r\nconst textStyle = {\r\n  fontSize: 10,\r\n  backgroundColor: 'transparent',\r\n  textAlign: 'right',\r\n};\r\n\r\nconst styles = {\r\n  left: {\r\n    container: {\r\n      ...containerStyle,\r\n    },\r\n    text: {\r\n      color: Color.timeTextColor,\r\n      ...textStyle,\r\n    },\r\n  },\r\n  right: {\r\n    container: {\r\n      ...containerStyle,\r\n    },\r\n    text: {\r\n      color: Color.white,\r\n      ...textStyle,\r\n    },\r\n  }\r\n};\r\nexport default function Time(\r\n  { position, containerStyle, currentMessage, timeFormat, textStyle, timeTextStyle },\r\n  context,\r\n) {\r\n  return (\r\n    <div style={{...styles[position].container, ...containerStyle[position]}}>\r\n      <Typography style={{...styles[position].text, ...textStyle[position], ...timeTextStyle[position]}}>\r\n        {moment(currentMessage.createdAt)\r\n          .locale(context.getLocale())\r\n          .format(timeFormat)}\r\n      </Typography>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\nTime.contextTypes = {\r\n  getLocale: PropTypes.func,\r\n};\r\n\r\nTime.defaultProps = {\r\n  position: 'left',\r\n  currentMessage: {\r\n    createdAt: null,\r\n  },\r\n  containerStyle: {},\r\n  textStyle: {},\r\n  timeFormat: TIME_FORMAT,\r\n  timeTextStyle: {},\r\n};\r\n\r\nTime.propTypes = {\r\n  position: PropTypes.oneOf(['left', 'right']),\r\n  currentMessage: PropTypes.object,\r\n  // containerStyle: PropTypes.shape({\r\n  //   left: ViewPropTypes.style,\r\n  //   right: ViewPropTypes.style,\r\n  // }),\r\n  textStyle: PropTypes.shape({\r\n    left: Typography.propTypes.style,\r\n    right: Typography.propTypes.style,\r\n  }),\r\n  timeFormat: PropTypes.string,\r\n  timeTextStyle: PropTypes.shape({\r\n    left: Typography.propTypes.style,\r\n    right: Text.propTypes.style,\r\n  }),\r\n};\r\n","/* eslint no-use-before-define: [\"error\", { \"variables\": false }] */\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport MessageText from './MessageText';\r\nimport MessageImage from './MessageImage';\r\nimport MessageVideo from './MessageVideo';\r\n\r\nimport Time from './Time';\r\nimport Color from './Color';\r\n\r\nimport { isSameUser, isSameDay } from './utils';\r\nimport { Typography, Button } from '@material-ui/core';\r\n\r\nconst styles = {\r\n  left: {\r\n    container: {\r\n      flex: 1,\r\n      alignItems: 'flex-start',\r\n    },\r\n    wrapper: {\r\n      borderRadius: 15,\r\n      backgroundColor: Color.leftBubbleBackground,\r\n      marginRight: 60,\r\n      minHeight: 20,\r\n      justifyContent: 'flex-end',\r\n    },\r\n    containerToNext: {\r\n      borderBottomLeftRadius: 3,\r\n    },\r\n    containerToPrevious: {\r\n      borderTopLeftRadius: 3,\r\n    },\r\n    bottom: {\r\n      flexDirection: 'row',\r\n      justifyContent: 'flex-start',\r\n    },\r\n  },\r\n  right: {\r\n    container: {\r\n      flex: 1,\r\n      alignItems: 'flex-end',\r\n    },\r\n    wrapper: {\r\n      borderRadius: 15,\r\n      backgroundColor: Color.defaultBlue,\r\n      marginLeft: 60,\r\n      minHeight: 20,\r\n      justifyContent: 'flex-end',\r\n    },\r\n    containerToNext: {\r\n      borderBottomRightRadius: 3,\r\n    },\r\n    containerToPrevious: {\r\n      borderTopRightRadius: 3,\r\n    },\r\n    bottom: {\r\n      flexDirection: 'row',\r\n      justifyContent: 'flex-end',\r\n    },\r\n  },\r\n  tick: {\r\n    fontSize: 10,\r\n    backgroundColor: Color.backgroundTransparent,\r\n    color: Color.white,\r\n  },\r\n  tickView: {\r\n    flexDirection: 'row',\r\n    marginRight: 10,\r\n  },\r\n  username: {\r\n    top: -3,\r\n    left: 0,\r\n    fontSize: 12,\r\n    backgroundColor: 'transparent',\r\n    color: '#aaa',\r\n  },\r\n  usernameView: {\r\n    flexDirection: 'row',\r\n    marginHorizontal: 10,\r\n  },\r\n};\r\n\r\nexport default class Bubble extends React.Component {\r\n\r\n  handleBubbleToNext() {\r\n    if (\r\n      isSameUser(this.props.currentMessage, this.props.nextMessage) &&\r\n      isSameDay(this.props.currentMessage, this.props.nextMessage)\r\n    ) {\r\n      return ({\r\n        ...styles[this.props.position].containerToNext,\r\n        ...this.props.containerToNextStyle[this.props.position],\r\n      });\r\n    }\r\n    return null;\r\n  }\r\n\r\n  handleBubbleToPrevious() {\r\n    if (\r\n      isSameUser(this.props.currentMessage, this.props.previousMessage) &&\r\n      isSameDay(this.props.currentMessage, this.props.previousMessage)\r\n    ) {\r\n      return ({\r\n        ...styles[this.props.position].containerToPrevious,\r\n        ...this.props.containerToPreviousStyle[this.props.position],\r\n      });\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderMessageText() {\r\n    if (this.props.currentMessage.text) {\r\n      const { containerStyle, wrapperStyle, ...messageTextProps } = this.props;\r\n      if (this.props.renderMessageText) {\r\n        return this.props.renderMessageText(messageTextProps);\r\n      }\r\n      return <MessageText {...messageTextProps} />;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderMessageImage() {\r\n    if (this.props.currentMessage.image) {\r\n      const { containerStyle, wrapperStyle, ...messageImageProps } = this.props;\r\n      if (this.props.renderMessageImage) {\r\n        return this.props.renderMessageImage(messageImageProps);\r\n      }\r\n      return <MessageImage {...messageImageProps} />;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderMessageVideo() {\r\n    if (this.props.currentMessage.video) {\r\n      const { containerStyle, wrapperStyle, ...messageVideoProps } = this.props;\r\n      if (this.props.renderMessageVideo) {\r\n        return this.props.renderMessageVideo(messageVideoProps);\r\n      }\r\n      return <MessageVideo {...messageVideoProps} />;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderTicks() {\r\n    const { currentMessage } = this.props;\r\n    if (this.props.renderTicks) {\r\n      return this.props.renderTicks(currentMessage);\r\n    }\r\n    if (currentMessage.user.id !== this.props.user.id) {\r\n        return;\r\n    }\r\n    if (currentMessage.sent || currentMessage.received || currentMessage.pending) {\r\n      return (\r\n        <div style={{...styles.tickView}}>\r\n          {currentMessage.sent && <Typography style={{...styles.tick, ...this.props.tickStyle}}>✓</Typography>}\r\n          {currentMessage.received && <Typography style={{...styles.tick, ...this.props.tickStyle}}>✓</Typography>}\r\n          {currentMessage.pending && <Typography style={{...styles.tick, ...this.props.tickStyle}}>🕓</Typography>}\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderTime() {\r\n    if (this.props.currentMessage.createdAt) {\r\n      const { containerStyle, wrapperStyle, ...timeProps } = this.props;\r\n      if (this.props.renderTime) {\r\n        return this.props.renderTime(timeProps);\r\n      }\r\n      return <Time {...timeProps} />;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderUsername() {\r\n    const { currentMessage } = this.props;\r\n    if (this.props.renderUsernameOnMessage) {\r\n      if (currentMessage.user.id === this.props.user.id) {\r\n        return null;\r\n      }\r\n      return (\r\n        <div style={{...styles.usernameView}}>\r\n          <Typography style={{...styles.username, ...this.props.usernameStyle}}>~ {currentMessage.user.name}</Typography>\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderCustomView() {\r\n    if (this.props.renderCustomView) {\r\n      return this.props.renderCustomView(this.props);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div style={{...styles[this.props.position].container, ...this.props.containerStyle[this.props.position]}}>\r\n        <div\r\n          style={{\r\n            ...styles[this.props.position].wrapper,\r\n            ...this.props.wrapperStyle[this.props.position],\r\n            ...this.handleBubbleToNext(),\r\n            ...this.handleBubbleToPrevious(),\r\n          }}\r\n        >\r\n          <Button\r\n            onClick={this.onLongPress}\r\n            {...this.props.touchableProps}\r\n          >\r\n            <div>\r\n              {this.renderCustomView()}\r\n              {this.renderMessageImage()}\r\n              {this.renderMessageVideo()}\r\n              {this.renderMessageText()}\r\n              <div style={{...styles[this.props.position].bottom, ...this.props.bottomContainerStyle[this.props.position]}}>\r\n                {this.renderUsername()}\r\n                {this.renderTime()}\r\n                {this.renderTicks()}\r\n              </div>\r\n            </div>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\nBubble.contextTypes = {\r\n  actionSheet: PropTypes.func,\r\n};\r\n\r\nBubble.defaultProps = {\r\n  touchableProps: {},\r\n  onLongPress: null,\r\n  renderMessageImage: null,\r\n  renderMessageVideo: null,\r\n  renderMessageText: null,\r\n  renderCustomView: null,\r\n  renderUsername: null,\r\n  renderTicks: null,\r\n  renderTime: null,\r\n  position: 'left',\r\n  currentMessage: {\r\n    text: null,\r\n    createdAt: null,\r\n    image: null,\r\n  },\r\n  nextMessage: {},\r\n  previousMessage: {},\r\n  containerStyle: {},\r\n  wrapperStyle: {},\r\n  bottomContainerStyle: {},\r\n  tickStyle: {},\r\n  usernameStyle: {},\r\n  containerToNextStyle: {},\r\n  containerToPreviousStyle: {},\r\n};\r\n\r\nBubble.propTypes = {\r\n  user: PropTypes.object.isRequired,\r\n  touchableProps: PropTypes.object,\r\n  onLongPress: PropTypes.func,\r\n  renderMessageImage: PropTypes.func,\r\n  renderMessageVideo: PropTypes.func,\r\n  renderMessageText: PropTypes.func,\r\n  renderCustomView: PropTypes.func,\r\n  renderUsernameOnMessage: PropTypes.bool,\r\n  renderUsername: PropTypes.func,\r\n  renderTime: PropTypes.func,\r\n  renderTicks: PropTypes.func,\r\n  position: PropTypes.oneOf(['left', 'right']),\r\n  currentMessage: PropTypes.object,\r\n  nextMessage: PropTypes.object,\r\n  previousMessage: PropTypes.object,\r\n  // containerStyle: PropTypes.shape({\r\n  //   left: ViewPropTypes.style,\r\n  //   right: ViewPropTypes.style,\r\n  // }),\r\n  // wrapperStyle: PropTypes.shape({\r\n  //   left: ViewPropTypes.style,\r\n  //   right: ViewPropTypes.style,\r\n  // }),\r\n  // bottomContainerStyle: PropTypes.shape({\r\n  //   left: ViewPropTypes.style,\r\n  //   right: ViewPropTypes.style,\r\n  // }),\r\n  // tickStyle: Text.propTypes.style,\r\n  // usernameStyle: Text.propTypes.style,\r\n  // containerToNextStyle: PropTypes.shape({\r\n  //   left: ViewPropTypes.style,\r\n  //   right: ViewPropTypes.style,\r\n  // }),\r\n  // containerToPreviousStyle: PropTypes.shape({\r\n  //   left: ViewPropTypes.style,\r\n  //   right: ViewPropTypes.style,\r\n  // }),\r\n};\r\n","/* eslint no-use-before-define: [\"error\", { \"variables\": false }] */\r\n\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Color from './Color';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nconst styles = {\r\n  container: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flex: 1,\r\n    marginTop: 5,\r\n    marginBottom: 10,\r\n  },\r\n  text: {\r\n    backgroundColor: Color.backgroundTransparent,\r\n    color: Color.defaultColor,\r\n    fontSize: 12,\r\n    fontWeight: '300',\r\n  },\r\n}\r\n\r\nexport default function SystemMessage({ currentMessage, containerStyle, wrapperStyle, textStyle }) {\r\n  return (\r\n    <div style={{...styles.container, ...containerStyle}}>\r\n      <div style={{...styles.wrapper, ...wrapperStyle}}>\r\n        <Typography style={{...styles.text, ...textStyle}}>{currentMessage.text}</Typography>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nSystemMessage.defaultProps = {\r\n  currentMessage: {\r\n    system: false,\r\n  },\r\n  containerStyle: {},\r\n  wrapperStyle: {},\r\n  textStyle: {},\r\n};\r\n\r\nSystemMessage.propTypes = {\r\n  currentMessage: PropTypes.object,\r\n  // containerStyle: ViewPropTypes.style,\r\n  // wrapperStyle: ViewPropTypes.style,\r\n  // textStyle: Text.propTypes.style,\r\n};\r\n","/* eslint no-use-before-define: [\"error\", { \"variables\": false }] */\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nimport { MIN_COMPOSER_HEIGHT, DEFAULT_PLACEHOLDER } from './Constant';\r\nimport Color from './Color';\r\nimport { TextField, withStyles } from '@material-ui/core';\r\n\r\n\r\nclass Composer extends React.Component {\r\n  onContentSizeChange(e) {\r\n    const { contentSize } = e.nativeEvent;\r\n\r\n    // Support earlier versions of React Native on Android.\r\n    if (!contentSize) return;\r\n\r\n    if (\r\n      !this.contentSize\r\n      || this.contentSize.width !== contentSize.width\r\n      || this.contentSize.height !== contentSize.height\r\n    ) {\r\n      this.contentSize = contentSize;\r\n      this.props.onInputSizeChanged(this.contentSize);\r\n    }\r\n  }\r\n\r\n  onChangeText(text) {\r\n    this.props.onTextChanged(text);\r\n  }\r\n\r\n  onKeyDown(e) {\r\n    const { text, onSend } = this.props;\r\n    if (e.keyCode === 13 && e.shiftKey === false) {\r\n      onSend({ text: text.trim() }, true);\r\n      e.preventDefault();\r\n    }\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <TextField\r\n        onKeyDown={e => this.onKeyDown(e)}\r\n        placeholder={this.props.placeholder}\r\n        multiline={this.props.multiline}\r\n        onChange={event => this.onChangeText(event.target.value)}\r\n        style={{ \r\n          marginLeft: 10,\r\n          fontSize: 16,\r\n          lineHeight: '16px',\r\n          paddingTop: 3,\r\n          paddingBottom: 3,\r\n          outline: 'none',\r\n          border: 'none',\r\n          overflow: 'auto',\r\n          boxShadow: 'none',\r\n          resize: 'none',\r\n          width: '100%', ...this.props.textInputStyle }}\r\n        value={this.props.text}\r\n        {...this.props.textInputProps}\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default (Composer)\r\n\r\n\r\n\r\nComposer.defaultProps = {\r\n  composerHeight: MIN_COMPOSER_HEIGHT,\r\n  text: '',\r\n  placeholderTextColor: Color.defaultProps,\r\n  placeholder: DEFAULT_PLACEHOLDER,\r\n  textInputProps: null,\r\n  multiline: true,\r\n  textInputStyle: {},\r\n  textInputAutoFocus: false,\r\n  keyboardAppearance: 'default',\r\n  onTextChanged: () => {},\r\n  onInputSizeChanged: () => {},\r\n};\r\n\r\n// Composer.propTypes = {\r\n//   composerHeight: PropTypes.number,\r\n//   text: PropTypes.string,\r\n//   placeholder: PropTypes.string,\r\n//   placeholderTextColor: PropTypes.string,\r\n//   textInputProps: PropTypes.object,\r\n//   onTextChanged: PropTypes.func,\r\n//   onInputSizeChanged: PropTypes.func,\r\n//   multiline: PropTypes.bool,\r\n//   // textInputStyle: TextInput.propTypes.style,\r\n//   textInputAutoFocus: PropTypes.bool,\r\n//   keyboardAppearance: PropTypes.string,\r\n// };\r\n","/* eslint no-use-before-define: [\"error\", { \"variables\": false }] */\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport moment from 'moment';\r\n\r\nimport Color from './Color';\r\n\r\nimport { isSameDay } from './utils';\r\nimport { DATE_FORMAT } from './Constant';\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst styles = {\r\n  container: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginTop: 5,\r\n    marginBottom: 10,\r\n  },\r\n  text: {\r\n    backgroundColor: Color.backgroundTransparent,\r\n    color: Color.defaultColor,\r\n    fontSize: 12,\r\n    fontWeight: '600',\r\n  },\r\n}\r\n\r\nexport default function Day(\r\n  { dateFormat, currentMessage, previousMessage, nextMessage, containerStyle, wrapperStyle, textStyle, inverted },\r\n  context,\r\n) {\r\n  if (!isSameDay(currentMessage, inverted ? previousMessage : nextMessage)) {\r\n    return (\r\n      <div style={{...styles.container, ...containerStyle}}>\r\n        <div style={wrapperStyle}>\r\n          <Typography style={{...styles.text, ...textStyle}}>\r\n            {moment(currentMessage.createdAt)\r\n              .locale(context.getLocale())\r\n              .format(dateFormat)\r\n              .toUpperCase()}\r\n          </Typography>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n}\r\n\r\n\r\nDay.contextTypes = {\r\n  getLocale: PropTypes.func,\r\n};\r\n\r\nDay.defaultProps = {\r\n  currentMessage: {\r\n    // TODO: test if crash when createdAt === null\r\n    createdAt: null,\r\n  },\r\n  previousMessage: {},\r\n  nextMessage: {},\r\n  containerStyle: {},\r\n  wrapperStyle: {},\r\n  textStyle: {},\r\n  dateFormat: DATE_FORMAT,\r\n};\r\n\r\nDay.propTypes = {\r\n  currentMessage: PropTypes.object,\r\n  previousMessage: PropTypes.object,\r\n  nextMessage: PropTypes.object,\r\n  inverted: PropTypes.bool,\r\n  // containerStyle: ViewPropTypes.style,\r\n  // wrapperStyle: ViewPropTypes.style,\r\n  // textStyle: Text.propTypes.style,\r\n  dateFormat: PropTypes.string,\r\n};\r\n","/* eslint no-use-before-define: [\"error\", { \"variables\": false }] */\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nimport Composer from './Composer';\r\nimport Send from './Send';\r\nimport Actions from './Actions';\r\nimport Color from './Color';\r\n\r\n\r\nconst styles = {\r\n  container: {\r\n    borderTopColor: Color.defaultColor,\r\n    backgroundColor: Color.white,\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  primary: {\r\n    display: \"flex\",\r\n    flexDirection: 'row',\r\n    alignItems: 'flex-end',\r\n  },\r\n  accessory: {\r\n    height: 44,\r\n  },\r\n}\r\n\r\nclass InputToolbar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      position: 'static',\r\n    };\r\n  }\r\n  \r\n  renderActions() {\r\n    if (this.props.renderActions) {\r\n      return this.props.renderActions(this.props);\r\n    } if (this.props.onPressActionButton) {\r\n      return <Actions {...this.props} />;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderSend() {\r\n    if (this.props.renderSend) {\r\n      return this.props.renderSend(this.props);\r\n    }\r\n    return <Send {...this.props} />;\r\n  }\r\n\r\n  renderComposer() {\r\n    if (this.props.renderComposer) {\r\n      return this.props.renderComposer(this.props);\r\n    }\r\n\r\n    return <Composer {...this.props} />;\r\n  }\r\n\r\n  renderAccessory() {\r\n    if (this.props.renderAccessory) {\r\n      return (\r\n        <div \r\n        style={{...styles.accessory, ...this.props.accessoryStyle}}>\r\n          {this.props.renderAccessory(this.props)}\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  }\r\n  render() {\r\n    return (\r\n      <div style={{...styles.container, ...this.props.containerStyle, position: this.state.position, height: this.props.composerHeight }}>\r\n        <div style={{...styles.primary, ...this.props.primaryStyle}}>\r\n          {this.renderActions()}\r\n          {this.renderComposer()}\r\n          {this.renderSend()}\r\n        </div>\r\n        {this.renderAccessory()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default InputToolbar\r\n\r\nInputToolbar.defaultProps = {\r\n  renderAccessory: null,\r\n  renderActions: null,\r\n  renderSend: null,\r\n  renderComposer: null,\r\n  containerStyle: {},\r\n  primaryStyle: {},\r\n  accessoryStyle: {},\r\n  onPressActionButton: () => {},\r\n};\r\n\r\nInputToolbar.propTypes = {\r\n  renderAccessory: PropTypes.func,\r\n  renderActions: PropTypes.func,\r\n  renderSend: PropTypes.func,\r\n  renderComposer: PropTypes.func,\r\n  onPressActionButton: PropTypes.func,\r\n  // containerStyle: ViewPropTypes.style,\r\n  // primaryStyle: ViewPropTypes.style,\r\n  // accessoryStyle: ViewPropTypes.style,\r\n};\r\n","\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nimport Avatar from './Avatar';\r\nimport Bubble from './Bubble';\r\nimport SystemMessage from './SystemMessage';\r\nimport Day from './Day';\r\n\r\nimport { isSameUser, isSameDay } from './utils';\r\n\r\nconst styles = {\r\n  left: {\r\n      flexDirection: 'row',\r\n      alignItems: 'flex-end',\r\n      justifyContent: 'flex-start',\r\n      marginLeft: 8,\r\n      marginRight: 0,\r\n    },\r\n  right: {\r\n      flexDirection: 'row',\r\n      alignItems: 'flex-end',\r\n      justifyContent: 'flex-end',\r\n      marginLeft: 0,\r\n      marginRight: 8,\r\n    },\r\n};\r\n\r\nexport default class Message extends React.Component {\r\n\r\n  shouldComponentUpdate(nextProps) {\r\n    const next = nextProps.currentMessage;\r\n    const current = this.props.currentMessage;\r\n    return (\r\n      next.send !== current.send ||\r\n      next.received !== current.received ||\r\n      next.pending !== current.pending ||\r\n      next.createdAt !== current.createdAt ||\r\n      next.text !== current.text ||\r\n      next.image !== current.image ||\r\n      next.video !== current.video\r\n    );\r\n  }\r\n\r\n  getInnerComponentProps = () => {\r\n    const { containerStyle, ...props } = this.props;\r\n    return {\r\n      ...props,\r\n      isSameUser,\r\n      isSameDay,\r\n    };\r\n  };\r\n\r\n  renderDay() {\r\n    if (this.props.currentMessage.createdAt) {\r\n      const dayProps = this.getInnerComponentProps();\r\n      if (this.props.renderDay) {\r\n        return this.props.renderDay(dayProps);\r\n      }\r\n      return <Day {...dayProps} />;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderBubble() {\r\n    const bubbleProps = this.getInnerComponentProps();\r\n    if (this.props.renderBubble) {\r\n      return this.props.renderBubble(bubbleProps);\r\n    }\r\n    return <Bubble {...bubbleProps} />;\r\n  }\r\n\r\n  renderSystemMessage() {\r\n    const systemMessageProps = this.getInnerComponentProps();\r\n    if (this.props.renderSystemMessage) {\r\n      return this.props.renderSystemMessage(systemMessageProps);\r\n    }\r\n    return <SystemMessage {...systemMessageProps} />;\r\n  }\r\n\r\n  renderAvatar() {\r\n    if (this.props.user.id === this.props.currentMessage.user.id && !this.props.showUserAvatar) {\r\n      return null;\r\n    }\r\n    const avatarProps = this.getInnerComponentProps();\r\n    const { currentMessage } = avatarProps;\r\n    if (currentMessage.user.avatar === null) {\r\n      return null;\r\n    }\r\n    return <Avatar {...avatarProps} />;\r\n  }\r\n\r\n  render() {\r\n    const sameUser = isSameUser(this.props.currentMessage, this.props.nextMessage);\r\n    const {inverted, containerStyle} = this.props;\r\n    return (\r\n      <div>\r\n        {this.renderDay()}\r\n        {this.props.currentMessage.system ? (\r\n          this.renderSystemMessage()\r\n        ) : (\r\n          <div\r\n            style={{\r\n              ...styles[this.props.position],\r\n              marginBottom: sameUser ? 2 : 10,\r\n              // !inverted &&  marginBottom: 2,\r\n              ...containerStyle[this.props.position],\r\n            }}\r\n          >\r\n            {this.props.position === 'left' ? this.renderAvatar() : null}\r\n            {this.renderBubble()}\r\n            {this.props.position === 'right' ? this.renderAvatar() : null}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nMessage.defaultProps = {\r\n  renderAvatar: undefined,\r\n  renderBubble: null,\r\n  renderDay: null,\r\n  renderSystemMessage: null,\r\n  position: 'left',\r\n  currentMessage: {},\r\n  nextMessage: {},\r\n  previousMessage: {},\r\n  user: {},\r\n  containerStyle: {},\r\n  showUserAvatar: true,\r\n  inverted: true,\r\n};\r\n\r\nMessage.propTypes = {\r\n  renderAvatar: PropTypes.func,\r\n  showUserAvatar: PropTypes.bool,\r\n  renderBubble: PropTypes.func,\r\n  renderDay: PropTypes.func,\r\n  renderSystemMessage: PropTypes.func,\r\n  position: PropTypes.oneOf(['left', 'right']),\r\n  currentMessage: PropTypes.object,\r\n  nextMessage: PropTypes.object,\r\n  previousMessage: PropTypes.object,\r\n  user: PropTypes.object,\r\n  inverted: PropTypes.bool,\r\n  // containerStyle: PropTypes.shape({\r\n  //   left: ViewPropTypes.style,\r\n  //   right: ViewPropTypes.style,\r\n  // }),\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport React, { Component } from 'react';\r\n\r\nconst styles = {\r\n  container: {\r\n    height: '100%',\r\n    minHeight: '100%',\r\n    width: '100%',\r\n    overflow: 'auto',\r\n    display: 'flex',\r\n    flexDirection: 'column-reverse',\r\n    flex: 1,\r\n    alignItems: 'stretch',\r\n  },\r\n};\r\nexport default class WebScrollView extends Component {\r\n  renderItem =(item, index) => {\r\n    const { renderItem } = this.props;\r\n    return renderItem({ item, index });\r\n  }\r\n\r\n  render() {\r\n    const { ListHeaderComponent, ListFooterComponent, data, inverted } = this.props;\r\n    let messages = data;\r\n    if (!inverted) {\r\n      messages = data.slice().reverse();\r\n    }\r\n    return (\r\n      <div style={{...styles.container}}>\r\n        {ListHeaderComponent()}\r\n        {messages.map(this.renderItem)}\r\n        {ListFooterComponent()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nWebScrollView.defaultProps = {\r\n  data: [],\r\n  extraData: {},\r\n  ListHeaderComponent: () => {},\r\n  ListFooterComponent: () => {},\r\n  inverted: false,\r\n};\r\n\r\nWebScrollView.propTypes = {\r\n  data: PropTypes.arrayOf(PropTypes.object),\r\n  extraData: PropTypes.object,\r\n  inverted: PropTypes.bool,\r\n  renderFooter: PropTypes.func,\r\n  keyExtractor: PropTypes.func,\r\n  enableEmptySections: PropTypes.bool,\r\n  automaticallyAdjustContentInsets: PropTypes.bool,\r\n  contentContainerStyle: PropTypes.object,\r\n  renderItem: PropTypes.func,\r\n  ListHeaderComponent: PropTypes.func,\r\n  ListFooterComponent: PropTypes.func,\r\n};\r\n","/* eslint\r\n    no-console: 0,\r\n    no-param-reassign: 0,\r\n    no-use-before-define: [\"error\", { \"variables\": false }],\r\n    no-return-assign: 0,\r\n    react/no-string-refs: 0,\r\n    react/sort-comp: 0\r\n*/\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nimport {Spinner }from '../../../components';\r\nimport Message from './Message';\r\nimport Color from './Color';\r\nimport WebScrollView from './WebScrollView';\r\nimport { Button, Typography } from '@material-ui/core';\r\n\r\nconst styles = {\r\n  container: {\r\n    flex: 1,\r\n  },\r\n  contentContainerStyle: {\r\n    justifyContent: 'flex-end',\r\n  },\r\n  headerWrapper: {\r\n    flex: 1,\r\n  },\r\n  listStyle: {\r\n    flex: 1,\r\n  },\r\n  scrollToBottomStyle: {\r\n    opacity: 0.8,\r\n    position: 'absolute',\r\n    paddingHorizontal: 15,\r\n    paddingVertical: 8,\r\n    right: 10,\r\n    bottom: 30,\r\n    zIndex: 999,\r\n    height: 40,\r\n    width: 40,\r\n    borderRadius: 20,\r\n    backgroundColor: Color.white,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    shadowColor: Color.black,\r\n    shadowOpacity: 0.5,\r\n    shadowOffset: { width: 0, height: 0 },\r\n    shadowRadius: 1,\r\n  },\r\n}\r\n\r\n\r\nexport default class MessageContainer extends React.PureComponent {\r\n  state = {\r\n    showScrollBottom: false,\r\n    imageMessages: [],\r\n  }\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    const { messages } = props;\r\n    const imageMessages = messages.filter(item => item.image);\r\n    return { imageMessages };\r\n  }\r\n\r\n  renderFooter = () => {\r\n    if (this.props.renderFooter) {\r\n      const footerProps = {\r\n        ...this.props,\r\n      };\r\n      return this.props.renderFooter(footerProps);\r\n    }\r\n    return null;\r\n  };\r\n\r\n  renderLoadEarlier = () => {\r\n    if (this.props.loadEarlier === true) {\r\n      const loadEarlierProps = {\r\n        ...this.props,\r\n      };\r\n      if (this.props.renderLoadEarlier) {\r\n        return this.props.renderLoadEarlier(loadEarlierProps);\r\n      }\r\n      return (\r\n        <Spinner {...loadEarlierProps} />\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  scrollTo(options) {\r\n    // this._invertibleScrollViewRef.scrollTo(options);\r\n  }\r\n\r\n\r\n  scrollToBottom = () => {\r\n    this.scrollTo({ offset: 0, animated: 'true' });\r\n  }\r\n\r\n  renderRow = ({ item, index }) => {\r\n    if (!item.id && item.id !== 0) {\r\n      console.warn('GiftedChat: `id` is missing for message', JSON.stringify(item));\r\n    }\r\n    if (!item.user) {\r\n      if (!item.system) {\r\n        console.warn('GiftedChat: `user` is missing for message', JSON.stringify(item));\r\n      }\r\n      item.user = {};\r\n    }\r\n    const { messages, ...restProps } = this.props;\r\n    const previousMessage = messages[index + 1] || {};\r\n    const nextMessage = messages[index - 1] || {};\r\n    const { imageMessages } = this.state;\r\n\r\n    const messageProps = {\r\n      ...restProps,\r\n      key: item.id,\r\n      currentMessage: item,\r\n      previousMessage,\r\n      nextMessage,\r\n      position: item.user.id === this.props.user.id ? 'right' : 'left',\r\n      imageMessages,\r\n    };\r\n\r\n    if (this.props.renderMessage) {\r\n      return this.props.renderMessage(messageProps);\r\n    }\r\n    return <Message {...messageProps} />;\r\n  };\r\n\r\n  renderHeaderWrapper = () => <div style={{...styles.headerWrapper}}>{this.renderLoadEarlier()}</div>;\r\n\r\n  renderScrollToBottomWrapper() {\r\n    const scrollToBottomComponent = (\r\n      <div style={{...styles.scrollToBottomStyle}}>\r\n        <Button onPress={this.scrollToBottom} hitSlop={{ top: 5, left: 5, right: 5, bottom: 5 }}>\r\n          <Typography>V</Typography>\r\n        </Button>\r\n      </div>\r\n    );\r\n\r\n    if (this.props.scrollToBottomComponent) {\r\n      return (\r\n        <Button onPress={this.scrollToBottom} hitSlop={{ top: 5, left: 5, right: 5, bottom: 5 }}>\r\n          {this.props.scrollToBottomComponent}\r\n        </Button>);\r\n    }\r\n    return scrollToBottomComponent;\r\n  }\r\n\r\n  keyExtractor = item => `${item.id}`;\r\n\r\n  render() {\r\n    if (this.props.messages.length === 0) {\r\n      return <div style={{...styles.container}} />;\r\n    }\r\n    return (\r\n      <div\r\n        style={{ flex: 1 }}\r\n      >\r\n        {this.state.showScrollBottom && this.props.scrollToBottom ? this.renderScrollToBottomWrapper() : null}\r\n        <WebScrollView\r\n          ref={this.flatListRef}\r\n          keyExtractor={this.keyExtractor}\r\n          extraData={this.props.extraData}\r\n          enableEmptySections\r\n          automaticallyAdjustContentInsets={false}\r\n          inverted={this.props.inverted}\r\n          data={this.props.messages}\r\n          style={{...styles.listStyle}}\r\n          contentContainerStyle={styles.contentContainerStyle}\r\n          renderItem={this.renderRow}\r\n          ListFooterComponent={this.renderHeaderWrapper}\r\n          ListHeaderComponent={this.renderFooter}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nMessageContainer.defaultProps = {\r\n  messages: [],\r\n  user: {},\r\n  renderFooter: null,\r\n  renderMessage: null,\r\n  onLoadEarlier: () => {},\r\n  inverted: true,\r\n  loadEarlier: false,\r\n  listViewProps: {},\r\n  invertibleScrollViewProps: {},\r\n  extraData: null,\r\n  scrollToBottom: false,\r\n  scrollToBottomOffset: 200,\r\n};\r\n\r\nMessageContainer.propTypes = {\r\n  messages: PropTypes.arrayOf(PropTypes.object),\r\n  user: PropTypes.object,\r\n  renderFooter: PropTypes.func,\r\n  renderMessage: PropTypes.func,\r\n  renderLoadEarlier: PropTypes.func,\r\n  onLoadEarlier: PropTypes.func,\r\n  listViewProps: PropTypes.object,\r\n  inverted: PropTypes.bool,\r\n  loadEarlier: PropTypes.bool,\r\n  invertibleScrollViewProps: PropTypes.object,\r\n  extraData: PropTypes.object,\r\n  scrollToBottom: PropTypes.bool,\r\n  scrollToBottomOffset: PropTypes.number,\r\n  scrollToBottomComponent: PropTypes.func,\r\n};\r\n","/* eslint\r\n    no-param-reassign: 0,\r\n    no-use-before-define: [\"error\", { \"variables\": false }],\r\n    no-return-assign: 0,\r\n    no-mixed-operators: 0,\r\n    react/sort-comp: 0\r\n*/\r\n\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport uuid from 'uuid';\r\n\r\nimport * as utils from './utils';\r\nimport Actions from './Actions';\r\nimport Avatar from './Avatar';\r\nimport Bubble from './Bubble';\r\nimport SystemMessage from './SystemMessage';\r\nimport MessageImage from './MessageImage';\r\nimport MessageText from './MessageText';\r\nimport Composer from './Composer';\r\nimport Day from './Day';\r\nimport InputToolbar from './InputToolbar';\r\nimport { Spinner } from '../../../components';\r\nimport Message from './Message';\r\nimport MessageContainer from './MessageContainer';\r\nimport Send from './Send';\r\nimport Time from './Time';\r\nimport {\r\n  MIN_COMPOSER_HEIGHT,\r\n  MAX_COMPOSER_HEIGHT,\r\n  DEFAULT_PLACEHOLDER,\r\n  TIME_FORMAT,\r\n  DATE_FORMAT,\r\n} from './Constant';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nconst styles = {\r\n    container: {\r\n      flex: 1,\r\n      height: '100%',\r\n    },\r\n  }\r\n\r\nclass ChatUI extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // default values\r\n    this._isMounted = false;\r\n    this._keyboardHeight = 0;\r\n    this._bottomOffset = 0;\r\n    this._maxHeight = null;\r\n    this._isFirstLayout = true;\r\n    this._locale = 'en';\r\n    this._messages = [];\r\n\r\n    this.state = {\r\n      isInitialized: false, // initialization will calculate maxHeight before rendering the chat\r\n      composerHeight: 50,\r\n      typingDisabled: false,\r\n    };\r\n\r\n    this.onSend = this.onSend.bind(this);\r\n    this.getLocale = this.getLocale.bind(this);\r\n    this.onInputSizeChanged = this.onInputSizeChanged.bind(this);\r\n    this.onInputTextChanged = this.onInputTextChanged.bind(this);\r\n    this.onMainViewLayout = this.onMainViewLayout.bind(this);\r\n    this.onInitialLayoutViewLayout = this.onInitialLayoutViewLayout.bind(this);\r\n\r\n    this.invertibleScrollViewProps = {\r\n      inverted: this.props.inverted,\r\n    };\r\n  }\r\n\r\n  static append(currentMessages = [], messages, inverted = true) {\r\n    if (!Array.isArray(messages)) {\r\n      messages = [messages];\r\n    }\r\n    return inverted ? messages.concat(currentMessages) : currentMessages.concat(messages);\r\n  }\r\n\r\n  static prepend(currentMessages = [], messages, inverted = true) {\r\n    if (!Array.isArray(messages)) {\r\n      messages = [messages];\r\n    }\r\n    return inverted ? currentMessages.concat(messages) : messages.concat(currentMessages);\r\n  }\r\n\r\n  getChildContext() {\r\n    return {\r\n      getLocale: this.getLocale,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { messages, text } = this.props;\r\n    this.setIsMounted(true);\r\n    this.initLocale();\r\n    this.setMessages(messages || []);\r\n    this.setTextFromProp(text);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.setIsMounted(false);\r\n  }\r\n\r\n  componentDidUpdate(prevProps = {}) {\r\n    const { messages } = this.props\r\n\r\n    if (this.props !== prevProps) {\r\n      this.setMessages(messages || [])\r\n    }\r\n  }\r\n\r\n  initLocale() {\r\n    if (this.props.locale === null || moment.locales().indexOf(this.props.locale) === -1) {\r\n      this.setLocale('en');\r\n    } else {\r\n      this.setLocale(this.props.locale);\r\n    }\r\n  }\r\n\r\n  setLocale(locale) {\r\n    this._locale = locale;\r\n  }\r\n\r\n  getLocale() {\r\n    return this._locale;\r\n  }\r\n\r\n  setTextFromProp(textProp) {\r\n    // Text prop takes precedence over state.\r\n    if (textProp !== undefined && textProp !== this.state.text) {\r\n      this.setState({ text: textProp });\r\n    }\r\n  }\r\n\r\n  getTextFromProp(fallback) {\r\n    if (this.props.text === undefined) {\r\n      return fallback;\r\n    }\r\n    return this.props.text;\r\n  }\r\n\r\n  setMessages(messages) {\r\n    this._messages = messages;\r\n  }\r\n\r\n  getMessages() {\r\n    return this._messages;\r\n  }\r\n\r\n  setBottomOffset(value) {\r\n    this._bottomOffset = value;\r\n  }\r\n\r\n  getBottomOffset() {\r\n    return this._bottomOffset;\r\n  }\r\n\r\n  setIsFirstLayout(value) {\r\n    this._isFirstLayout = value;\r\n  }\r\n\r\n  getIsFirstLayout() {\r\n    return this._isFirstLayout;\r\n  }\r\n\r\n  setIsTypingDisabled(value) {\r\n    this.setState({\r\n      typingDisabled: value,\r\n    });\r\n  }\r\n\r\n  getIsTypingDisabled() {\r\n    return this.state.typingDisabled;\r\n  }\r\n\r\n  setIsMounted(value) {\r\n    this._isMounted = value;\r\n  }\r\n\r\n  getIsMounted() {\r\n    return this._isMounted;\r\n  }\r\n\r\n  scrollToBottom(animated = true) {\r\n    if (this._messageContainerRef === null) {\r\n      return;\r\n    }\r\n    this._messageContainerRef.scrollTo({\r\n      y: 0,\r\n      animated,\r\n    });\r\n  }\r\n\r\n\r\n  renderMessages() {\r\n    return (\r\n      <div style={{\r\n        display: 'flex',\r\n        height: `calc(100vh - ${this.state.composerHeight}px)`,\r\n      }}\r\n      >\r\n        <MessageContainer\r\n          {...this.props}\r\n          invertibleScrollViewProps={this.invertibleScrollViewProps}\r\n          messages={this.getMessages()}\r\n          ref={component => this._messageContainerRef = component}\r\n        />\r\n        {this.renderChatFooter()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onSend(messages = [], shouldResetInputToolbar = false) {\r\n    if (!Array.isArray(messages)) {\r\n      messages = [messages];\r\n    }\r\n    messages = messages.map(message => ({\r\n      ...message,\r\n      user: this.props.user,\r\n      createdAt: new Date(),\r\n      id: this.props.messageIdGenerator(),\r\n    }));\r\n\r\n    if (shouldResetInputToolbar === true) {\r\n      this.setIsTypingDisabled(true);\r\n      this.resetInputToolbar();\r\n    }\r\n\r\n    this.props.onSend(messages);\r\n    this.scrollToBottom();\r\n\r\n    if (shouldResetInputToolbar === true) {\r\n      setTimeout(() => {\r\n        if (this.getIsMounted() === true) {\r\n          this.setIsTypingDisabled(false);\r\n        }\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  resetInputToolbar() {\r\n    this.notifyInputTextReset();\r\n    this.setState({\r\n      text: this.getTextFromProp(''),\r\n    });\r\n  }\r\n\r\n  focusTextInput() {\r\n    if (this.textInput) {\r\n      this.textInput.focus();\r\n    }\r\n  }\r\n\r\n  onInputSizeChanged(size) {\r\n  }\r\n\r\n  onInputTextChanged(text) {\r\n    if (this.getIsTypingDisabled()) {\r\n      return;\r\n    }\r\n    if (this.props.onInputTextChanged) {\r\n      this.props.onInputTextChanged(text);\r\n    }\r\n    // Only set state if it's not being overridden by a prop.\r\n    if (this.props.text === undefined) {\r\n      this.setState({ text });\r\n    }\r\n  }\r\n\r\n  notifyInputTextReset() {\r\n    if (this.props.onInputTextChanged) {\r\n      this.props.onInputTextChanged('');\r\n    }\r\n  }\r\n\r\n  onInitialLayoutViewLayout(e) {\r\n    const { layout } = e.nativeEvent;\r\n    if (layout.height <= 0) {\r\n      return;\r\n    }\r\n    this.notifyInputTextReset();\r\n    this.setState({\r\n      isInitialized: true,\r\n      text: this.getTextFromProp(''),\r\n    });\r\n  }\r\n\r\n  onMainViewLayout(e) {\r\n  }\r\n\r\n  renderInputToolbar() {\r\n    const inputToolbarProps = {\r\n      ...this.props,\r\n      text: this.getTextFromProp(this.state.text),\r\n      composerHeight: this.state.composerHeight,\r\n      onSend: this.onSend,\r\n      onInputSizeChanged: this.onInputSizeChanged,\r\n      onTextChanged: this.onInputTextChanged,\r\n      textInputProps: {\r\n        ...this.props.textInputProps,\r\n        ref: textInput => (this.textInput = textInput),\r\n        maxLength: this.getIsTypingDisabled() ? 0 : this.props.maxInputLength,\r\n      },\r\n    };\r\n    if (this.props.renderInputToolbar) {\r\n      return this.props.renderInputToolbar(inputToolbarProps);\r\n    }\r\n    return (\r\n      <InputToolbar\r\n        {...inputToolbarProps}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderChatFooter() {\r\n    if (this.props.renderChatFooter) {\r\n      const footerProps = {\r\n        ...this.props,\r\n      };\r\n      return this.props.renderChatFooter(footerProps);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderLoading() {\r\n    if (this.props.renderLoading) {\r\n      return this.props.renderLoading();\r\n    }\r\n    return null;\r\n  }\r\n  render() {\r\n    if (this._isMounted) {\r\n      return (\r\n        <div style={{...styles.container}} onLayout={this.onMainViewLayout}>\r\n          {this.renderMessages()}\r\n          {this.renderInputToolbar()}\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div style={{...styles.container}} onLayout={this.onInitialLayoutViewLayout}>\r\n        {this.renderLoading()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nChatUI.childContextTypes = {\r\n  getLocale: PropTypes.func,\r\n};\r\n\r\nChatUI.defaultProps = {\r\n  messages: [],\r\n  text: undefined,\r\n  placeholder: DEFAULT_PLACEHOLDER,\r\n  messageIdGenerator: () => uuid.v4(),\r\n  user: {},\r\n  onSend: () => { },\r\n  locale: null,\r\n  timeFormat: TIME_FORMAT,\r\n  dateFormat: DATE_FORMAT,\r\n  isAnimated: false,\r\n  loadEarlier: false,\r\n  onLoadEarlier: () => { },\r\n  isLoadingEarlier: false,\r\n  renderLoading: null,\r\n  renderLoadEarlier: null,\r\n  renderAvatar: undefined,\r\n  showUserAvatar: false,\r\n  onPressAvatar: null,\r\n  renderUsernameOnMessage: false,\r\n  renderAvatarOnTop: false,\r\n  renderBubble: null,\r\n  renderSystemMessage: null,\r\n  onLongPress: null,\r\n  renderMessage: null,\r\n  renderMessageText: null,\r\n  renderMessageImage: null,\r\n  imageProps: {},\r\n  videoProps: {},\r\n  lightboxProps: {},\r\n  textInputProps: {},\r\n  listViewProps: {},\r\n  renderCustomView: null,\r\n  renderDay: null,\r\n  renderTime: null,\r\n  renderFooter: null,\r\n  renderChatFooter: null,\r\n  renderInputToolbar: null,\r\n  renderComposer: null,\r\n  renderActions: null,\r\n  renderSend: null,\r\n  renderAccessory: null,\r\n  onPressActionButton: null,\r\n  bottomOffset: 0,\r\n  minInputToolbarHeight: 44,\r\n  keyboardShouldPersistTaps: 'never',\r\n  onInputTextChanged: null,\r\n  maxInputLength: null,\r\n  forceGetKeyboardHeight: false,\r\n  inverted: true,\r\n  extraData: null,\r\n  minComposerHeight: MIN_COMPOSER_HEIGHT,\r\n  maxComposerHeight: MAX_COMPOSER_HEIGHT,\r\n};\r\n\r\nChatUI.propTypes = {\r\n  messages: PropTypes.arrayOf(PropTypes.object),\r\n  text: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  messageIdGenerator: PropTypes.func,\r\n  user: PropTypes.object,\r\n  onSend: PropTypes.func,\r\n  locale: PropTypes.string,\r\n  timeFormat: PropTypes.string,\r\n  dateFormat: PropTypes.string,\r\n  isAnimated: PropTypes.bool,\r\n  loadEarlier: PropTypes.bool,\r\n  onLoadEarlier: PropTypes.func,\r\n  isLoadingEarlier: PropTypes.bool,\r\n  renderLoading: PropTypes.func,\r\n  renderLoadEarlier: PropTypes.func,\r\n  renderAvatar: PropTypes.func,\r\n  showUserAvatar: PropTypes.bool,\r\n  onPressAvatar: PropTypes.func,\r\n  renderUsernameOnMessage: PropTypes.bool,\r\n  renderAvatarOnTop: PropTypes.bool,\r\n  renderBubble: PropTypes.func,\r\n  renderSystemMessage: PropTypes.func,\r\n  onLongPress: PropTypes.func,\r\n  renderMessage: PropTypes.func,\r\n  renderMessageText: PropTypes.func,\r\n  renderMessageImage: PropTypes.func,\r\n  imageProps: PropTypes.object,\r\n  videoProps: PropTypes.object,\r\n  lightboxProps: PropTypes.object,\r\n  renderCustomView: PropTypes.func,\r\n  renderDay: PropTypes.func,\r\n  renderTime: PropTypes.func,\r\n  renderFooter: PropTypes.func,\r\n  renderChatFooter: PropTypes.func,\r\n  renderInputToolbar: PropTypes.func,\r\n  renderComposer: PropTypes.func,\r\n  renderActions: PropTypes.func,\r\n  renderSend: PropTypes.func,\r\n  renderAccessory: PropTypes.func,\r\n  onPressActionButton: PropTypes.func,\r\n  bottomOffset: PropTypes.number,\r\n  minInputToolbarHeight: PropTypes.number,\r\n  listViewProps: PropTypes.object,\r\n  keyboardShouldPersistTaps: PropTypes.oneOf(['always', 'never', 'handled']),\r\n  onInputTextChanged: PropTypes.func,\r\n  maxInputLength: PropTypes.number,\r\n  forceGetKeyboardHeight: PropTypes.bool,\r\n  inverted: PropTypes.bool,\r\n  textInputProps: PropTypes.object,\r\n  extraData: PropTypes.object,\r\n  minComposerHeight: PropTypes.number,\r\n  maxComposerHeight: PropTypes.number,\r\n};\r\n\r\nexport {\r\n    ChatUI,\r\n    Actions,\r\n    Avatar,\r\n    Bubble,\r\n    SystemMessage,\r\n    MessageImage,\r\n    MessageText,\r\n    Composer,\r\n    Day,\r\n    InputToolbar,\r\n    Spinner,\r\n    Message,\r\n    MessageContainer,\r\n    Send,\r\n    Time,\r\n    utils,\r\n  };\r\n","export default {\r\n    defaultColor: '#b2b2b2',\r\n    backgroundTransparent: 'transparent',\r\n    defaultBlue: '#0084ff',\r\n    leftBubbleBackground: '#f0f0f0',\r\n    black: '#000',\r\n    white: '#fff',\r\n    carrot: '#e67e22',\r\n    emerald: '#2ecc71',\r\n    peterRiver: '#3498db',\r\n    wisteria: '#8e44ad',\r\n    alizarin: '#e74c3c',\r\n    turquoise: '#1abc9c',\r\n    midnightBlue: '#2c3e50',\r\n    optionTintColor: '#007AFF',\r\n    timeTextColor: '#aaa',\r\n  };","export const SIGN_UP = '/signup';\r\nexport const SIGN_IN = '/signin';\r\nexport const ADMIN = '/admin';\r\nexport const TRAINER = '/trainer';\r\nexport const TRAINEE = '/trainee';\r\nexport const PASSWORD_RESET = '/resetpassword';\r\nexport const LIVE_SUPPORT ='/livesupport'\r\nexport const LIVE_SUPPORT2 ='/livesupport2'\r\n\r\n"],"sourceRoot":""}